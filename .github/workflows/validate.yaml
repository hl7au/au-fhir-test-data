name: Validate

on:
  workflow_dispatch:
    inputs:
      profile:
        type: choice
        description: Profile
        options: 
        - AU Core
        - eRequesting


jobs:
  Validate:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout repository
      uses: actions/checkout@v4
    - name: Setup python for result reporting
      uses: actions/setup-python@v5
    - name: Set profile
      uses: ./.github/profiles
      with:
          profile: ${{ github.event.inputs.profile }}
    - name: Validate
      uses: ./.github/validate
      with:
        sources: $paths
        ig: $ig
    - name: Report
      uses: ./.github/report
      with:
        title: ${{ github.event.inputs.profile }}
        ig: $ig
        paths: $paths